/*
 * viewmatrix.js v0.0.1 (2018-01-17 23:14:37)
 * @author comOn Group
 */

require=function e(t,i,n){function s(l,h){if(!i[l]){if(!t[l]){var o="function"==typeof require&&require;if(!h&&o)return o(l,!0);if(r)return r(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var c=i[l]={exports:{}};t[l][0].call(c.exports,function(e){var i=t[l][1][e];return s(i||e)},c,c.exports,e,t,i,n)}return i[l].exports}for(var r="function"==typeof require&&require,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(e,t,i){window.ViewMatrix=e("./src/class")},{"./src/class":2}],2:[function(e,t,i){"use strict";var n=e("./utils"),s=e("emitter");t.exports=function(e,t){s(this),this.defaults={adjacentCount:1,childSelector:"*",classPrefix:"vm-",classSuffixes:{element:"element",infinite:"infinite",child:"child",current:"current",behind:"behind",ahead:"ahead",beyond:"beyond"},createTrack:!0,currentIndex:0,handleZIndex:!0,infinite:!1},this.options=n.mergeObjects(this.defaults,n.isType(t,"object",{}));var i={},r=n.isType(this.options.classPrefix,"string",this.defaults.classPrefix),l=n.isType(this.options.classSuffixes,"object",this.defaults.classSuffixes);for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=r+l[h]);return this.element=null,this.children=null,this.total=0,this.current=n.isType(this.options.currentIndex,"number",0),this.destroy=function(){var e;if(this.element&&n.removeClassFromElement(this.element,[i.element,i.infinite]),this.children&&this.children.length>0)for(var t=0;t<this.children.length;t++)e=this.children[t],n.removeClassFromElement(e,[i.child,i.current,i.beyond,i.behind,i.ahead]),n.setElementStyle(e,"z-index",null);this.emit("destroyed",this.element,this.children),this.element=null,this.children=null},this.refresh=function(e,t){var s;if(this.destroy(),"string"==typeof e?this.element=document.querySelector(e)||null:e instanceof Element&&(this.element=e),!this.element)throw new Error("No valid selector provided to ViewMatrix");this.options.childSelector=n.isType(t,"string",this.options.childSelector),this.children=n.findChildrenInElement(this.element,this.options.childSelector),this.total=this.children.length,this.current=this.wrap(this.current);for(var r=0;r<this.children.length;r++)s=this.children[r],n.addClassToElement(s,i.child);this.slide(this.current),n.addClassToElement(this.element,i.element),n.toggleClassInElement(this.element,i.infinite,this.options.infinite),this.emit("initialized",this.element,this.children)},this.slide=function(e){if(0===this.children.length)return null;var t,s,r,l,h;e=this.wrap(e);var o=Math.max(1,this.options.adjacentCount),a=o,c=this.children.length-o,u=e<o,f=e>=c;this.emit("beforeslide",this.current,e);for(var d=0;d<this.children.length;d++)t=this.children[d],s=Math.abs(e-d),d===e?(n.removeClassFromElement(t,[i.ahead,i.behind,i.beyond]),n.addClassToElement(t,i.current)):(r=d>e,l=d<e,this.options.infinite&&(u&&d>=c?(s=Math.abs(e-(d-this.children.length)),r=!1,l=!0):f&&d<a&&(s=Math.abs(e-(d+this.children.length)),r=!0,l=!1)),h=s>o,n.removeClassFromElement(t,i.current),n.toggleClassInElement(t,i.beyond,h),n.toggleClassInElement(t,i.behind,l),n.toggleClassInElement(t,i.ahead,r)),this.options.handleZIndex&&n.setElementStyle(t,"z-index",this.children.length-s);return this.current=e,this.emit("slide",e),this.children[e]},this.inc=function(e){return this.slide(this.current+n.isType(e,"number",0))},this.wrap=function(e){return n.wrapNumber(e,0,this.total-1)},this.refresh(e,this.options.childSelector),this}},{"./utils":3,emitter:"emitter"}],3:[function(e,t,i){"use strict";var n={addClassToElement:function(e,t){for(var i=this.sanitizeString(t).split(" "),n=e.className.trim(),s=0;s<i.length;s++)-1===n.indexOf(i[s])&&(n=n+" "+i[s]);e.className=this.sanitizeString(n)},findChildrenInElement:function(e,t){return this.isType(t,"string")?e.querySelectorAll(":scope > "+t):e.querySelectorAll("*")},isType:function(e,t,i){return i=void 0!==i?i:null,typeof e===t?e:i},mergeObjects:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},removeClassFromElement:function(e,t){for(var i=t instanceof Array?t:this.sanitizeString(t).split(" "),n=e.className.trim(),s=0;s<i.length;s++)-1!==n.indexOf(i[s])&&(n=n.replace(i[s],""));e.className=this.sanitizeString(n),0===e.className.length&&e.removeAttribute("class")},sanitizeString:function(e){return this.isType(e,"string","").trim().replace(/\s\s+/g," ")},setElementStyle:function(e,t,i){var n=this.sanitizeString(e.getAttribute("style")||"");return null!=i&&-1===n.indexOf(t+":")||(n=n.replace(new RegExp(t+":[^;]+;","g"),"")),null!=i&&(n+=t+":"+i+";"),n.length>0?e.setAttribute("style",this.sanitizeString(n)):e.removeAttribute("style"),n},toggleClassInElement:function(e,t,i){return i?this.addClassToElement(e,t):this.removeClassFromElement(e,t),i},wrapNumber:function(e,t,i){e=this.isType(e,"number",0),t=this.isType(t,"number",0);var n=(i=Math.max(t,this.isType(i,"number",0)))+1-t;return t+((e-t)%n+n)%n}};t.exports=n},{}],emitter:[function(e,t,i){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}void 0!==t&&(t.exports=n),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<n.length;s++)if((i=n[s])===t||i.fn===t){n.splice(s,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks["$"+e];if(i)for(var n=0,s=(i=i.slice(0)).length;n<s;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}]},{},[1]);
//# sourceMappingURL=viewmatrix.min.js.map