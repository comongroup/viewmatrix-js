/*
 * viewmatrix.js v0.0.1 (2018-01-18 21:26:45)
 * @author comOn Group
 */

require=function t(e,i,n){function r(l,h){if(!i[l]){if(!e[l]){var o="function"==typeof require&&require;if(!h&&o)return o(l,!0);if(s)return s(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var c=i[l]={exports:{}};e[l][0].call(c.exports,function(t){var i=e[l][1][t];return r(i||t)},c,c.exports,t,e,i,n)}return i[l].exports}for(var s="function"==typeof require&&require,l=0;l<n.length;l++)r(n[l]);return r}({1:[function(t,e,i){window.ViewMatrix=t("./src/class")},{"./src/class":2}],2:[function(t,e,i){"use strict";var n=t("./utils"),r=t("emitter");e.exports=function(t,e){r(this),this.defaults={adjacentCount:1,childSelector:"*",classPrefix:"vm-",classSuffixes:{element:"element",infinite:"infinite",child:"child",current:"current",behind:"behind",ahead:"ahead",beyond:"beyond"},createTrack:!0,currentIndex:0,handleZIndex:!0,infinite:!1,parentSelector:null,wrapIndex:!0},this.options=n.mergeObjects(this.defaults,n.isType(e,"object",{}));var i={},s=n.isType(this.options.classPrefix,"string",this.defaults.classPrefix),l=n.isType(this.options.classSuffixes,"object",this.defaults.classSuffixes);for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(i[h]=s+l[h]);return this.element=null,this.children=null,this.total=0,this.current=n.isType(this.options.currentIndex,"number",0),this.destroy=function(){var t;if(this.element&&n.removeClassFromElement(this.element,[i.element,i.infinite]),this.children&&this.children.length>0)for(var e=0;e<this.children.length;e++)t=this.children[e],n.removeClassFromElement(t,[i.child,i.current,i.beyond,i.behind,i.ahead]),n.setElementStyle(t,"z-index",null);this.emit("destroyed",this.element,this.children),this.element=null,this.children=null},this.refresh=function(t,e){var r;if(this.destroy(),"string"==typeof(t=null!=t?t:this.options.parentSelector)?this.element=document.querySelector(t)||null:t instanceof Element&&(this.element=t),!this.element)throw new Error("No valid selector provided to ViewMatrix");this.options.parentSelector=t,this.options.childSelector=n.isType(e,"string",this.options.childSelector),this.children=n.findChildrenInElement(this.element,this.options.childSelector),this.total=this.children.length,this.current=this.wrap(this.current);for(var s=0;s<this.children.length;s++)r=this.children[s],n.addClassToElement(r,i.child);this.slide(this.current),n.addClassToElement(this.element,i.element),n.toggleClassInElement(this.element,i.infinite,this.options.infinite),this.emit("initialized",this.element,this.children)},this.slide=function(t){if(!this.children||0===this.children.length)return null;var e,r,s,l,h;t=this.wrap(t);var o=Math.max(1,this.options.adjacentCount),a=o,c=this.children.length-o,u=t<o,d=t>=c;this.emit("beforeslide",this.current,t,this.total);for(var f=0;f<this.children.length;f++)e=this.children[f],r=Math.abs(t-f),f===t?(n.removeClassFromElement(e,[i.ahead,i.behind,i.beyond]),n.addClassToElement(e,i.current)):(s=f>t,l=f<t,this.options.infinite&&(u&&f>=c?(r=Math.abs(t-(f-this.children.length)),s=!1,l=!0):d&&f<a&&(r=Math.abs(t-(f+this.children.length)),s=!0,l=!1)),h=r>o,n.removeClassFromElement(e,i.current),n.toggleClassInElement(e,i.beyond,h),n.toggleClassInElement(e,i.behind,l),n.toggleClassInElement(e,i.ahead,s)),this.options.handleZIndex&&n.setElementStyle(e,"z-index",this.children.length-r);return this.emit("slide",this.current,t,this.total),this.current=t,this.children[t]},this.inc=function(t){return this.slide(this.current+n.isType(t,"number",0))},this.wrap=function(t){var e=this.total-1;return this.options.wrapIndex?n.wrapNumber(t,0,e):n.clampNumber(t,0,e)},this.refresh(t,this.options.childSelector),this}},{"./utils":3,emitter:"emitter"}],3:[function(t,e,i){"use strict";var n={addClassToElement:function(t,e){for(var i=this.sanitizeString(e).split(" "),n=t.className.trim(),r=0;r<i.length;r++)-1===n.indexOf(i[r])&&(n=n+" "+i[r]);t.className=this.sanitizeString(n)},clampNumber:function(t,e,i){return Math.max(e,Math.min(i,t))},findChildrenInElement:function(t,e){return this.isType(e,"string")?t.querySelectorAll(":scope > "+e):t.querySelectorAll("*")},isType:function(t,e,i){return i=void 0!==i?i:null,typeof t===e?t:i},mergeObjects:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},removeClassFromElement:function(t,e){for(var i=e instanceof Array?e:this.sanitizeString(e).split(" "),n=t.className.trim(),r=0;r<i.length;r++)-1!==n.indexOf(i[r])&&(n=n.replace(i[r],""));t.className=this.sanitizeString(n),0===t.className.length&&t.removeAttribute("class")},sanitizeString:function(t){return this.isType(t,"string","").trim().replace(/\s\s+/g," ")},setElementStyle:function(t,e,i){var n=this.sanitizeString(t.getAttribute("style")||"");return null!=i&&-1===n.indexOf(e+":")||(n=n.replace(new RegExp(e+":[^;]+;","g"),"")),null!=i&&(n+=e+":"+i+";"),n.length>0?t.setAttribute("style",this.sanitizeString(n)):t.removeAttribute("style"),n},toggleClassInElement:function(t,e,i){return i?this.addClassToElement(t,e):this.removeClassFromElement(t,e),i},wrapNumber:function(t,e,i){t=this.isType(t,"number",0),e=this.isType(e,"number",0);var n=(i=Math.max(e,this.isType(i,"number",0)))+1-e;return e+((t-e)%n+n)%n}};e.exports=n},{}],emitter:[function(t,e,i){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}void 0!==e&&(e.exports=n),n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks["$"+t];if(i)for(var n=0,r=(i=i.slice(0)).length;n<r;++n)i[n].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}]},{},[1]);
//# sourceMappingURL=viewmatrix.min.js.map