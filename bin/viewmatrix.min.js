!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i=function(){function t(){this.callbacks={}}return t.prototype.on=function(t,e){if("function"!=typeof e)return this;var n="$"+t;return(this.callbacks[n]=this.callbacks[n]||[]).push(e),this},t.prototype.once=function(t,e){if("function"!=typeof e)return this;function n(){this.off(t,n),e.apply(this,arguments)}return n.callback=e,this.on(t,n),this},t.prototype.off=function(t,e){if(0===arguments.length)return this.callbacks={},this;var n="$"+t,i=this.callbacks[n];if(!i)return this;if(1===arguments.length)return delete this.callbacks[n],this;var s=i.indexOf(e);return-1!==s&&i[s]===e&&i.splice(s,1),0===i.length&&delete this.callbacks[n],this},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this.callbacks["$"+t];if(i&&i.length>0)for(var s=0,r=i=i.slice(0);s<r.length;s++){r[s].apply(this,e)}return this},t.prototype.listeners=function(t){return this.callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length},t}();function s(t){return(""+t).trim().replace(/\s\s+/g," ")}function r(t,e){if(t instanceof Element){for(var n=s(e).split(" "),i=t.className.trim(),r=0,o=n;r<o.length;r++){var l=o[r];-1===i.indexOf(l)&&(i=i+" "+l)}t.className=s(i)}}function o(t,e){if(t instanceof Element){for(var n=e instanceof Array?e:s(e).split(" "),i=t.className.trim(),r=0,o=n;r<o.length;r++){var l=o[r];-1!==i.indexOf(l)&&(i=i.replace(l,""))}t.className=s(i),0===t.className.length&&t.removeAttribute("class")}}function l(t,e,n){var i=s(t.getAttribute("style")||"");return null!=n&&-1===i.indexOf(e+":")||(i=i.replace(new RegExp(e+":[^;]+;","g"),"")),null!=n&&(i+=e+":"+n+";"),i.length>0?t.setAttribute("style",s(i)):t.removeAttribute("style"),i}function a(t,e,n){return n?r(t,e):o(t,e),n}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var r=arguments[s];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(i[o]=r[o])}return i}var h,u=(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(t){function e(e,n){var i=t.call(this)||this;return i.children=null,i.defaults={startingIndex:0,childrenSelector:"*",classAliases:{element:"element",infinite:"infinite",child:"child",current:"current",behind:"behind",ahead:"ahead",beyond:"beyond"},classPrefix:"vm-",adjacentCount:1,handleZIndex:!0,infinite:!1,wrap:!0},i.classAliases={},i.currentIndex=0,i.options=c({},i.defaults,n),i.refresh(e,i.options.childrenSelector),i}return u(e,t),e.prototype.destroy=function(){if(this.element&&o(this.element,[this.classAliases.element,this.classAliases.infinite]),this.children&&this.children.length>0)for(var t=0,e=this.children;t<e.length;t++){var n=e[t];o(n,[this.classAliases.child,this.classAliases.current,this.classAliases.beyond,this.classAliases.behind,this.classAliases.ahead]),l(n,"z-index",null)}this.emit("destroy",this.element,this.children),this.element=null,this.children=null},e.prototype.refresh=function(t,e){if(this.destroy(),"string"==typeof(t=null!=t?t:null)?this.element=document.querySelector(t)||null:t instanceof Element&&(this.element=t),!this.element)throw new Error("No valid selector provided to ViewMatrix instance");var n,i;"string"==typeof e&&(this.options.childrenSelector=e),this.children=(n=this.element,"string"==typeof(i=e)?[].slice.call(n.querySelectorAll(":scope > "+i)):n.children),this.currentIndex=this.wrapIndex(this.currentIndex),this.prepareClassNames(this.options.classPrefix,this.options.classAliases);for(var s=0,o=this.children;s<o.length;s++){r(o[s],this.classAliases.child)}this.slide(this.currentIndex),r(this.element,this.classAliases.element),a(this.element,this.classAliases.infinite,this.options.infinite),this.emit("init",this.element,this.children)},e.prototype.slide=function(t){if(!this.children||0===this.children.length)return null;t=this.wrapIndex(t);var e=this.children.length,n=Math.max(1,this.options.adjacentCount),i=Math.floor((e-1)/2),s=i+(e%2==0?1:0);this.emit("slide:before",this.currentIndex,t,e);for(var c=0;c<e;c++){var h=this.children[c],u=c-t;if(this.options.infinite&&(u>i?u-=e:u<-i&&(u+=e)),c===t)o(h,[this.classAliases.ahead,this.classAliases.behind,this.classAliases.beyond]),r(h,this.classAliases.current);else{var p=u>0,f=u<0,d=Math.abs(u)>n;o(h,this.classAliases.current),a(h,this.classAliases.beyond,d),a(h,this.classAliases.behind,f),a(h,this.classAliases.ahead,p)}this.options.handleZIndex&&l(h,"z-index",s-Math.abs(u))}return this.emit("slide:after",this.currentIndex,t,e),this.currentIndex=t,this.children[t]},e.prototype.inc=function(t){return this.slide(this.currentIndex+t)},e.prototype.toggleClass=function(t,e){this.element&&a(this.element,this.options.classPrefix+t,e)},e.prototype.prepareClassNames=function(t,e){for(var n in void 0===t&&(t=this.options.classPrefix),void 0===e&&(e=this.options.classAliases),e)Object.prototype.hasOwnProperty.call(e,n)&&(this.classAliases[n]=t+e[n])},e.prototype.wrapIndex=function(t){var e=this.children.length-1;return this.options.wrap?function(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0);var i=(n=Math.max(e,n))+1-e;return e+((t-e)%i+i)%i}(t,0,e):function(t,e,n){return Math.max(e,Math.min(n,t))}(t,0,e)},e}(i),f=function(){function t(t,e){var n=this;this.options={},this.instance=t,this.instance.on("init",this.onInit),this.instance.on("destroy",this.onDestroy),window.setTimeout(function(){n.applyOptions(e)},1)}return t.prototype.applyOptions=function(t){c(this.options,this.defaults,t),this.onInit()},t}(),d=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaults={cancelOnSlide:!0,classAlias:"autoplaying",direction:1,instant:!0,interval:3e3},e.cancelAutoplay=!0,e.intervalId=0,e.handleAutoplay=function(){e.cancelAutoplay=!1,e.instance.inc(e.options.direction)},e.handleSlideChange=function(){e.cancelAutoplay&&!1!==e.options.cancelOnSlide&&e.pause(),e.cancelAutoplay=!0},e}return d(e,t),e.prototype.play=function(t){this.pause(!1),this.intervalId=window.setInterval(this.handleAutoplay,this.options.interval),this.options.classAlias&&this.instance.toggleClass(this.options.classAlias,!0),!1!==t&&this.instance.emit("autoplay:start")},e.prototype.pause=function(t){0!==this.intervalId&&(clearInterval(this.intervalId),this.intervalId=0,this.options.classAlias&&this.instance.toggleClass(this.options.classAlias,!1),!1!==t&&this.instance.emit("autoplay:pause"))},e.prototype.onInit=function(){this.instance.on("slide:after",this.handleSlideChange),console.log(this.options,this.defaults),!0===this.options.instant&&this.play()},e.prototype.onDestroy=function(){this.instance.off("slide:after",this.handleSlideChange),this.pause(!1)},e}(f);window.ViewMatrix=p,window.ViewMatrixAutoplay=y}]);
//# sourceMappingURL=viewmatrix.min.js.map