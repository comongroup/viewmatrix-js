/*
 * viewmatrix-js v0.0.1 (2018-01-17 20:49:36)
 * @author comOn Group
 */

require=function e(t,r,i){function n(l,o){if(!r[l]){if(!t[l]){var a="function"==typeof require&&require;if(!o&&a)return a(l,!0);if(s)return s(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[l]={exports:{}};t[l][0].call(h.exports,function(e){var r=t[l][1][e];return n(r||e)},h,h.exports,e,t,r,i)}return r[l].exports}for(var s="function"==typeof require&&require,l=0;l<i.length;l++)n(i[l]);return n}({1:[function(e,t,r){window.ViewMatrix=e("./src/class")},{"./src/class":2}],2:[function(e,t,r){"use strict";var i=e("./utils");e("emitter");t.exports=function(e,t){this.defaults={childSelector:"img",classPrefix:"vm-",classSuffixes:{element:"element",child:"child",current:"current",behind:"behind",ahead:"ahead",beyond:"beyond"},createTrack:!0,currentIndex:0},this.options=i.mergeObjects(this.defaults,i.isType(t,"object",{}));var r={},n=i.isType(this.options.classPrefix,"string",this.defaults.classPrefix),s=i.isType(this.options.classSuffixes,"object",this.defaults.classSuffixes);for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=n+s[l]);return this.element=null,this.children=null,this.total=0,this.current=i.isType(this.options.currentIndex,"number",0),this.refresh=function(e,t){var n;if(this.element&&i.removeClassFromElement(n,r.element),this.children&&this.children.length>0)for(var s=0;s<this.children.length;s++)n=this.children[s],i.removeClassFromElement(n,r.child),i.removeClassFromElement(n,r.current),i.removeClassFromElement(n,r.behind),i.removeClassFromElement(n,r.ahead);if(this.element=null,this.children=null,"string"==typeof e?this.element=document.querySelector(e)||null:e instanceof Element&&(this.element=e),!this.element)throw new Error("No valid selector provided to ViewMatrix");for(this.children=i.findChildrenInElement(this.element,t),this.total=this.children.length,this.current=this.wrap(this.current),this.options.childSelector=t,s=0;s<this.children.length;s++)n=this.children[s],i.addClassToElement(n,r.child);this.slide(this.current),i.addClassToElement(this.element,r.element)},this.slide=function(e){var t,n=this.children;if(0===n.length)return null;e=this.wrap(e);for(var s=0;s<n.length;s++)t=n[s],s===e?(i.removeClassFromElement(t,r.behind),i.removeClassFromElement(t,r.ahead),i.addClassToElement(t,r.current)):(i.removeClassFromElement(t,r.current),i.toggleClassInElement(t,r.behind,s<e),i.toggleClassInElement(t,r.ahead,s>e));return this.current=e,n[e]},this.inc=function(e){return this.slide(this.current+i.isType(e,"number",0))},this.wrap=function(e){return i.wrapNumber(e,0,this.total-1)},this.refresh(e,this.options.childSelector),this}},{"./utils":3,emitter:"emitter"}],3:[function(e,t,r){"use strict";var i={addClassToElement:function(e,t){for(var r=this.sanitizeString(t).split(" "),i=e.className.trim(),n=0;n<r.length;n++)-1===i.indexOf(r[n])&&(i=i+" "+r[n]);e.className=this.sanitizeString(i)},findChildrenInElement:function(e,t){return this.isType(t,"string")?e.querySelectorAll(":scope > "+t):e.querySelectorAll("*")},isType:function(e,t,r){return r=void 0!==r?r:null,typeof e===t?e:r},mergeObjects:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},removeClassFromElement:function(e,t){for(var r=this.sanitizeString(t).split(" "),i=e.className.trim(),n=0;n<r.length;n++)-1!==i.indexOf(r[n])&&(console.log("remove",r[n],"from",i),i=i.replace(r[n],""));e.className=this.sanitizeString(i)},sanitizeString:function(e){return this.isType(e,"string","").trim().replace(/\s\s+/g," ")},toggleClassInElement:function(e,t,r){return r?this.addClassToElement(e,t):this.removeClassFromElement(e,t),r},wrapNumber:function(e,t,r){e=this.isType(e,"number",0),t=this.isType(t,"number",0);var i=(r=Math.max(t,this.isType(r,"number",0)))+1-t;return t+((e-t)%i+i)%i}};t.exports=i},{}],emitter:[function(e,t,r){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}void 0!==t&&(t.exports=i),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<i.length;n++)if((r=i[n])===t||r.fn===t){i.splice(n,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var i=0,n=(r=r.slice(0)).length;i<n;++i)r[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}]},{},[1]);
//# sourceMappingURL=viewmatrix.min.js.map