!function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var n=function(){function t(){this.callbacks={}}return t.prototype.on=function(t,e){var i="$"+t;return(this.callbacks[i]=this.callbacks[i]||[]).push(e),this},t.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.callback=e,this.on(t,i),this},t.prototype.off=function(t,e){if(0===arguments.length)return this.callbacks={},this;var i="$"+t,n=this.callbacks[i];if(!n)return this;if(1===arguments.length)return delete this.callbacks[i],this;var s=n.indexOf(e);return-1!==s&&n[s]===e&&n.splice(s,1),0===n.length&&delete this.callbacks[i],this},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var n=this.callbacks["$"+t];if(n&&n.length>0)for(var s=0,r=n=n.slice(0);s<r.length;s++){r[s].apply(this,e)}return this},t.prototype.listeners=function(t){return this.callbacks["$"+t]||[]},t.prototype.hasListeners=function(t){return!!this.listeners(t).length},t}();function s(t){return(""+t).trim().replace(/\s\s+/g," ")}function r(t,e){if(t instanceof Element){for(var i=s(e).split(" "),n=t.className.trim(),r=0,l=i;r<l.length;r++){var a=l[r];-1===n.indexOf(a)&&(n=n+" "+a)}t.className=s(n)}}function l(t,e){if(t instanceof Element){for(var i=e instanceof Array?e:s(e).split(" "),n=t.className.trim(),r=0,l=i;r<l.length;r++){var a=l[r];-1!==n.indexOf(a)&&(n=n.replace(a,""))}t.className=s(n),0===t.className.length&&t.removeAttribute("class")}}function a(t,e,i){var n=s(t.getAttribute("style")||"");return null!=i&&-1===n.indexOf(e+":")||(n=n.replace(new RegExp(e+":[^;]+;","g"),"")),null!=i&&(n+=e+":"+i+";"),n.length>0?t.setAttribute("style",s(n)):t.removeAttribute("style"),n}function o(t,e,i){return i?r(t,e):l(t,e),i}var c,h=(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},function(t,e){function i(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),u=function(t){function e(e,i){var n=t.call(this)||this;return n.children=null,n.defaults={startingIndex:0,childrenSelector:"*",classAliases:{element:"element",infinite:"infinite",child:"child",current:"current",behind:"behind",ahead:"ahead",beyond:"beyond"},classPrefix:"vm-",adjacentCount:1,handleZIndex:!0,infinite:!1,wrap:!0},n.classAliases={},n.currentIndex=0,n.options=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),s=1;s<arguments.length;s++){var r=arguments[s];if(null!=r)for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])}return n}({},n.defaults,i),n.refresh(e,n.options.childrenSelector),n}return h(e,t),e.prototype.destroy=function(){if(this.element&&l(this.element,[this.classAliases.element,this.classAliases.infinite]),this.children&&this.children.length>0)for(var t=0,e=this.children;t<e.length;t++){var i=e[t];l(i,[this.classAliases.child,this.classAliases.current,this.classAliases.beyond,this.classAliases.behind,this.classAliases.ahead]),a(i,"z-index",null)}this.emit("destroy",this.element,this.children),this.element=null,this.children=null},e.prototype.refresh=function(t,e){if(this.destroy(),"string"==typeof(t=null!=t?t:null)?this.element=document.querySelector(t)||null:t instanceof Element&&(this.element=t),!this.element)throw new Error("No valid selector provided to ViewMatrix instance");var i,n;"string"==typeof e&&(this.options.childrenSelector=e),this.children=(i=this.element,"string"==typeof(n=e)?[].slice.call(i.querySelectorAll(":scope > "+n)):i.children),this.currentIndex=this.wrapIndex(this.currentIndex),this.prepareClassNames(this.options.classPrefix,this.options.classAliases);for(var s=0,l=this.children;s<l.length;s++){r(l[s],this.classAliases.child)}this.slide(this.currentIndex),r(this.element,this.classAliases.element),o(this.element,this.classAliases.infinite,this.options.infinite),this.emit("init",this.element,this.children)},e.prototype.slide=function(t){if(!this.children||0===this.children.length)return null;t=this.wrapIndex(t);var e=this.children.length,i=Math.max(1,this.options.adjacentCount),n=Math.floor((e-1)/2),s=n+(e%2==0?1:0);this.emit("slide:before",this.currentIndex,t,e);for(var c=0;c<e;c++){var h=this.children[c],u=c-t;if(this.options.infinite&&(u>n?u-=e:u<-n&&(u+=e)),c===t)l(h,[this.classAliases.ahead,this.classAliases.behind,this.classAliases.beyond]),r(h,this.classAliases.current);else{var f=u>0,d=u<0,p=Math.abs(u)>i;l(h,this.classAliases.current),o(h,this.classAliases.beyond,p),o(h,this.classAliases.behind,d),o(h,this.classAliases.ahead,f)}this.options.handleZIndex&&a(h,"z-index",s-Math.abs(u))}return this.emit("slide",this.currentIndex,t,e),this.currentIndex=t,this.children[t]},e.prototype.inc=function(t){return this.slide(this.currentIndex+t)},e.prototype.prepareClassNames=function(t,e){for(var i in void 0===t&&(t=this.options.classPrefix),void 0===e&&(e=this.options.classAliases),e)Object.prototype.hasOwnProperty.call(e,i)&&(this.classAliases[i]=t+e[i])},e.prototype.wrapIndex=function(t){var e=this.children.length-1;return this.options.wrap?function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0);var n=(i=Math.max(e,i))+1-e;return e+((t-e)%n+n)%n}(t,0,e):function(t,e,i){return Math.max(e,Math.min(i,t))}(t,0,e)},e}(n);window.ViewMatrix=u}]);
//# sourceMappingURL=viewmatrix.min.js.map