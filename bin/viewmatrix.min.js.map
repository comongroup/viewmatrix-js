{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/core/viewmatrixplugin.ts","webpack:///./src/utils/objects.ts","webpack:///./src/plugins/autoplay.ts","webpack:///./src/utils/string.ts","webpack:///./src/utils/html.ts","webpack:///./src/utils/point.ts","webpack:///./src/plugins/touchswipe.ts","webpack:///./src/utils/emitter.ts","webpack:///./src/core/viewmatrix.ts","webpack:///./src/utils/math.ts","webpack:///./index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","merge","target","sources","_i","arguments","length","TypeError","to","index","nextSource","nextKey","_super","AutoplayPlugin","options","_this","this","defaults","cancelOnSlide","classAlias","direction","instant","interval","cancelAutoplay","intervalId","handleAutoplay","instance","inc","handleSlideChange","pause","__extends","onInit","on","play","onDestroy","off","emit","window","setInterval","toggleClass","clearInterval","viewmatrixplugin","sanitize","str","trim","replace","addClassToElement","el","HTMLElement","classes","split","result","className","classes_1","indexOf","inElementBounds","coords","bounds","parent","document","body","parentBounds","getBoundingClientRect","elBounds","bottom","top","height","left","right","width","getAbsoluteRect","x","y","removeClassFromElement","Array","classes_2","removeAttribute","setElementStyle","style","getAttribute","RegExp","setAttribute","toggleClassInElement","condition","Point","getFromEvent","event","touchIndex","point","TouchEvent","touches","pageX","pageY","MouseEvent","clone","add","sub","multiply","divide","TouchSwipePlugin","eventTarget","preventDefault","tolerance","vertical","undefined","touchStart","touchLast","touchDelta","cancelTouch","handleTouchStart","element","cancelable","handleTouchMove","xAbs","Math","abs","yAbs","delta","handleTouchEnd","touchswipe_extends","addEventListener","passive","removeEventListener","Emitter","callbacks","callback","key","push","once","apply","splice","args","_a","callbacks_1","slice","listeners","hasListeners","ViewMatrix","parentSelector","plugins","children","startingIndex","childrenSelector","classAliases","infinite","child","current","behind","ahead","beyond","classPrefix","adjacentCount","handleZIndex","wrap","currentIndex","autoplay","touchswipe","initialize","viewmatrix_extends","destroy","querySelector","Error","selector","querySelectorAll","wrapIndex","prepareClassNames","initializePlugins","slide","destroyPlugins","childrenCount","max","distanceCount","floor","indexCount","distance","isAhead","isBehind","isBeyond","increment","prefix","aliases","k","min","clamp","emitter","viewmatrix"],"mappings":"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","file":"./viewmatrix.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import ViewMatrix from './viewmatrix';\n\nexport default abstract class ViewMatrixPlugin {\n\n\t/**\n\t * The ViewMatrix instance the plugin belongs to.\n\t */\n\tpublic instance: ViewMatrix;\n\n\t/**\n\t * Method called when the instance is initialized.\n\t */\n\tpublic abstract onInit(): void;\n\n\t/**\n\t * Method called when the instance is destroyed.\n\t */\n\tpublic abstract onDestroy(): void;\n\n}\n","/**\n * Merges one or more objects into `target`.\n * @param target The object to merge to.\n * @param sources One or more sources to merge onto `target`.\n */\nexport function merge<T extends object>(target: T, ...sources: T[]): T {\n\tif (target == null) {\n\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t}\n\tconst to = Object(target);\n\tfor (let index = 1; index < arguments.length; index++) {\n\t\tconst nextSource = arguments[index];\n\t\tif (nextSource != null) {\n\t\t\tfor (const nextKey in nextSource) {\n\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn to;\n}\n","import ViewMatrixPlugin from '../core/viewmatrixplugin';\nimport { merge } from '../utils/objects';\n\n/**\n * Options that the ViewMatrix Autoplay plugin supports.\n */\nexport interface IAutoplayPluginOptions {\n\t/**\n\t * Tells the module it should cancel the autoplay when a slide is manually changed. Default is `true`.\n\t */\n\tcancelOnSlide?: boolean;\n\t/**\n\t * Together with the instance's `classPrefix` option, defines the class to toggle when autoplaying is enabled. Default is `autoplaying`.\n\t */\n\tclassAlias?: string;\n\t/**\n\t * Direction increment of the navigation. Default is `+1` = `next`.\n\t */\n\tdirection?: number;\n\t/**\n\t * Tells the module it should start autoplaying immediately. Default is `true`.\n\t */\n\tinstant?: boolean;\n\t/**\n\t * Milliseconds it takes to navigate. Default is `3000`.\n\t */\n\tinterval?: number;\n}\n\nexport default class AutoplayPlugin extends ViewMatrixPlugin {\n\n\t/**\n\t * The instance's options.\n\t */\n\tpublic readonly options: IAutoplayPluginOptions = {};\n\n\t/**\n\t * The instance's default values.\n\t */\n\tprotected readonly defaults: IAutoplayPluginOptions = {\n\t\tcancelOnSlide: true,\n\t\tclassAlias: 'autoplaying',\n\t\tdirection: +1,\n\t\tinstant: true,\n\t\tinterval: 3000\n\t};\n\n\t/**\n\t * Determines if autoplay should be cancelled when handling a slide change.\n\t */\n\tprivate cancelAutoplay: boolean = false;\n\n\t/**\n\t * ID of the setInterval instance.\n\t */\n\tprivate intervalId: number = 0;\n\n\t/**\n\t * Initializes a new TouchSwipePlugin instance.\n\t * @param options Options for the plugin.\n\t */\n\tpublic constructor(options?: IAutoplayPluginOptions) {\n\t\tsuper();\n\t\tmerge(this.options, this.defaults, options);\n\t}\n\n\t/**\n\t * Method called when the instance is initialized.\n\t */\n\tpublic onInit(): void {\n\t\tthis.instance.on('slide:after', this.handleSlideChange);\n\t\tif (this.options.instant === true) {\n\t\t\tthis.play();\n\t\t}\n\t}\n\n\t/**\n\t * Method called when the instance is destroyed.\n\t */\n\tpublic onDestroy(): void {\n\t\tthis.instance.off('slide:after', this.handleSlideChange);\n\t\tthis.pause(false);\n\t}\n\n\t/**\n\t * Starts the autoplay.\n\t * @param emit Tells the method it should fire an event or not. Default is `true`.\n\t */\n\tpublic play(emit?: boolean): void {\n\t\tthis.pause(false);\n\t\tthis.intervalId = window.setInterval(this.handleAutoplay, this.options.interval);\n\t\tif (this.options.classAlias) {\n\t\t\tthis.instance.toggleClass(this.options.classAlias, true);\n\t\t}\n\t\tif (emit !== false) {\n\t\t\tthis.instance.emit('autoplay:start');\n\t\t}\n\t}\n\n\t/**\n\t * Stops the autoplay.\n\t * @param emit Tells the method it should fire an event or not. Default is `true`.\n\t */\n\tpublic pause(emit?: boolean) {\n\t\tif (this.intervalId === 0) {\n\t\t\treturn;\n\t\t}\n\t\tclearInterval(this.intervalId);\n\t\tthis.intervalId = 0;\n\t\tif (this.options.classAlias) {\n\t\t\tthis.instance.toggleClass(this.options.classAlias, false);\n\t\t}\n\t\tif (emit !== false) {\n\t\t\tthis.instance.emit('autoplay:pause');\n\t\t}\n\t}\n\n\t/**\n\t * Event handler for when autoplay interval is fired.\n\t * Activates the control variable and changes the slide.\n\t */\n\tprivate handleAutoplay = () => {\n\t\tthis.cancelAutoplay = false;\n\t\tthis.instance.inc(this.options.direction);\n\t}\n\n\t/**\n\t * Event handler for when a slide is changed.\n\t * If the control variable wasn't set to false, pauses the autoplay.\n\t */\n\tprivate handleSlideChange = () => {\n\t\tif (this.cancelAutoplay && this.options.cancelOnSlide !== false) {\n\t\t\tthis.pause();\n\t\t}\n\t\tthis.cancelAutoplay = true;\n\t}\n\n}\n","/**\n * Clears all extra spaces in a string.\n * @param str String to sanitize.\n */\nexport function sanitize(str: string): string {\n\treturn ('' + str).trim().replace(/\\s\\s+/g, ' ');\n}\n","import Point from './point';\nimport { sanitize } from './string';\n\n/**\n * Adds a class to a given HTML element.\n * @param el The element to add the class to.\n * @param str The class to add.\n */\nexport function addClassToElement(el: HTMLElement, str: string): void {\n\tif (!(el instanceof HTMLElement)) { return; }\n\tconst classes = sanitize(str).split(' ');\n\tlet result = el.className.trim();\n\tfor (const c of classes) {\n\t\tif (result.indexOf(c) === -1) {\n\t\t\tresult = result + ' ' + c;\n\t\t}\n\t}\n\tel.className = sanitize(result);\n}\n\n/**\n * Returns children inside an element.\n * @param el The element to return children from.\n * @param selector Query selector to filter children.\n */\nexport function findChildrenInElement(el: HTMLElement, selector?: string): HTMLElement[] {\n\treturn typeof selector === 'string'\n\t\t? [].slice.call(el.querySelectorAll(':scope > ' + selector))\n\t\t: el.children;\n}\n\n/**\n * Returns the bounding rectangle for the target element,\n * but adjusted with the scroll values of the parent.\n * @param el The element to find bounds for.\n * @param parent The parent of the element to check bounds for. Default is \"document.body\".\n */\nexport function getAbsoluteRect(el: HTMLElement, parent: HTMLElement = document.body) {\n\tconst parentBounds = parent.getBoundingClientRect();\n\tconst elBounds = el.getBoundingClientRect();\n\treturn {\n\t\tbottom: elBounds.bottom - parentBounds.top,\n\t\theight: elBounds.height,\n\t\tleft: elBounds.left - parentBounds.left,\n\t\tright: elBounds.right - parentBounds.left,\n\t\ttop: elBounds.top - parentBounds.top,\n\t\twidth: elBounds.width\n\t};\n}\n\n/**\n * Checks if the given `coords` are contained within a `target`.\n * @param target The target to check.\n * @param coords The coordinates to check if they're inside the Target.\n */\nexport function inElementBounds(target: HTMLElement, coords: Point) {\n\tconst bounds = getAbsoluteRect(target);\n\treturn target &&\n\t\tcoords.x >= bounds.left && coords.x <= bounds.right &&\n\t\tcoords.y >= bounds.top && coords.y <= bounds.bottom;\n}\n\n/**\n * Removes a class from a given HTML element.\n * @param el The element to remove the class from.\n * @param str The class to remove.\n */\nexport function removeClassFromElement(el: HTMLElement, str: string | string[]): void {\n\tif (!(el instanceof HTMLElement)) { return; }\n\tconst classes = !(str instanceof Array)\n\t\t? sanitize(str).split(' ')\n\t\t: str;\n\tlet result = el.className.trim();\n\tfor (const c of classes) {\n\t\tif (result.indexOf(c) !== -1) {\n\t\t\tresult = result.replace(c, '');\n\t\t}\n\t}\n\tel.className = sanitize(result);\n\tif (el.className.length === 0) {\n\t\tel.removeAttribute('class');\n\t}\n}\n\n/**\n * Sets the inline style of an element.\n * If \"null\" is provided as the value, the style will be erased.\n * @param el The element to style.\n * @param name The name of the style to add.\n * @param value The value for the style. A value of \"null\" will erase the style.\n */\nexport function setElementStyle(el: HTMLElement, name: string, value: any): string {\n\tlet style = sanitize(el.getAttribute('style') || '');\n\tif (value == null || style.indexOf(name + ':') !== -1) {\n\t\tstyle = style.replace(new RegExp(name + ':[^;]+;', 'g'), '');\n\t}\n\tif (value != null) {\n\t\tstyle += name + ':' + value + ';';\n\t}\n\tif (style.length > 0) {\n\t\tel.setAttribute('style', sanitize(style));\n\t}\n\telse {\n\t\tel.removeAttribute('style');\n\t}\n\treturn style;\n}\n\n/**\n * Toggles a class in a given HTML element.\n * The class will be added if the condition is true.\n * It will be removed otherwise.\n * @param el The element to toggle the class in.\n * @param str The class to toggle.\n * @param condition Condition to determine if class is added or removed.\n */\nexport function toggleClassInElement(el: HTMLElement, str: string, condition: boolean): boolean {\n\tif (condition) {\n\t\taddClassToElement(el, str);\n\t}\n\telse {\n\t\tremoveClassFromElement(el, str);\n\t}\n\treturn condition;\n}\n","export default class Point {\n\n\t/**\n\t * Returns a Point object from an event's coordinates.\n\t * @param event The event to extract the coordinates from.\n\t * @param touchIndex If the event is a TouchEvent, specify which touch should the method read from.\n\t */\n\tpublic static getFromEvent(event: MouseEvent | TouchEvent, touchIndex: number = 0): Point {\n\t\tconst point = new Point();\n\t\tif (event instanceof TouchEvent && event.touches) {\n\t\t\tpoint.x = event.touches[touchIndex].pageX;\n\t\t\tpoint.y = event.touches[touchIndex].pageY;\n\t\t}\n\t\telse if (event instanceof MouseEvent) {\n\t\t\tpoint.x = event.pageX;\n\t\t\tpoint.y = event.pageY;\n\t\t}\n\t\treturn point;\n\t}\n\n\t/**\n\t * Horizontal coordinate.\n\t */\n\tpublic x: number;\n\n\t/**\n\t * Vertical coordinate.\n\t */\n\tpublic y: number;\n\n\t/**\n\t * Creates a new 2D point.\n\t * @param x Horizontal coordinate.\n\t * @param y Vertical coordinate.\n\t */\n\tconstructor(x: number = 0, y: number = 0) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\t/**\n\t * Returns a new instance of the point with the same coordinates.\n\t */\n\tpublic clone(): Point {\n\t\treturn new Point(this.x, this.y);\n\t}\n\n\t/**\n\t * Modifies the Point instance by adding coordinates from another `point`.\n\t * @param point The point to add.\n\t */\n\tpublic add(point: Point): Point {\n\t\tthis.x += point.x;\n\t\tthis.y += point.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Modifies the Point instance by subtracting coordinates from another `point`.\n\t * @param point The point to subtract.\n\t */\n\tpublic sub(point: Point): Point {\n\t\tthis.x -= point.x;\n\t\tthis.y -= point.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Modifies the Point instance by multiplying coordinates from another `point`.\n\t * @param point The point to multiply.\n\t */\n\tpublic multiply(point: Point): Point {\n\t\tthis.x *= point.x;\n\t\tthis.y *= point.y;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Modifies the Point instance by dividing coordinates from another `point`.\n\t * @param point The point to divide.\n\t */\n\tpublic divide(point: Point): Point {\n\t\tthis.x /= point.x;\n\t\tthis.y /= point.y;\n\t\treturn this;\n\t}\n\n}\n","import ViewMatrixPlugin from '../core/viewmatrixplugin';\nimport { inElementBounds } from '../utils/html';\nimport { merge } from '../utils/objects';\nimport Point from '../utils/point';\n\n/**\n * Options that the ViewMatrix Touch plugin supports.\n */\nexport interface ITouchSwipePluginOptions {\n\t/**\n\t * Together with the instance's `classPrefix` option, defines the class to toggle when the element is being touched. Default is `touching`.\n\t */\n\tclassAlias?: string;\n\t/**\n\t * Tells the plugin what elements it should add touch event listeners to.\n\t */\n\teventTarget?: Document | Element;\n\t/**\n\t * Tells the plugin it should call preventDefault() when a touch is started. Default is `false`.\n\t */\n\tpreventDefault?: boolean;\n\t/**\n\t * Amount of pixels the delta must be until a swipe is registered. Default is `30`.\n\t */\n\ttolerance?: number;\n\t/**\n\t * If true, the plugin will handle vertical deltas instead of horizontal. Default is `false`.\n\t */\n\tvertical?: boolean;\n}\n\nexport default class TouchSwipePlugin extends ViewMatrixPlugin {\n\n\t/**\n\t * The instance's options.\n\t */\n\tpublic readonly options: ITouchSwipePluginOptions = {};\n\n\t/**\n\t * The instance's default values.\n\t */\n\tprivate readonly defaults: ITouchSwipePluginOptions = {\n\t\tclassAlias: 'touching',\n\t\teventTarget: document,\n\t\tpreventDefault: true,\n\t\ttolerance: 30,\n\t\tvertical: false\n\t};\n\n\t/**\n\t * Determines which was the last event target.\n\t */\n\tprivate eventTarget?: Document | Element = undefined;\n\n\t/**\n\t * Point with starting touch coordinates.\n\t */\n\tprivate touchStart?: Point = undefined;\n\n\t/**\n\t * Point with last touch coordinates.\n\t */\n\tprivate touchLast?: Point = undefined;\n\n\t/**\n\t * Point with difference between start and last touch coordinates.\n\t */\n\tprivate touchDelta?: Point = undefined;\n\n\t/**\n\t * Initializes a new TouchSwipePlugin instance.\n\t * @param options Options for the plugin.\n\t */\n\tpublic constructor(options?: ITouchSwipePluginOptions) {\n\t\tsuper();\n\t\tmerge(this.options, this.defaults, options);\n\t}\n\n\t/**\n\t * Method called when the instance is initialized.\n\t */\n\tpublic onInit(): void {\n\t\tthis.cancelTouch(false);\n\n\t\t// setup event target for future events\n\t\tthis.eventTarget = this.options.eventTarget;\n\n\t\tif (this.eventTarget) {\n\t\t\t// add touch events\n\t\t\tthis.eventTarget.addEventListener('touchstart', this.handleTouchStart, { passive: false });\n\t\t\tthis.eventTarget.addEventListener('touchmove', this.handleTouchMove, { passive: false });\n\t\t\tthis.eventTarget.addEventListener('touchend', this.handleTouchEnd, { passive: false });\n\n\t\t\t// add mouse events\n\t\t\tthis.eventTarget.addEventListener('mousedown', this.handleTouchStart, { passive: false });\n\t\t\tthis.eventTarget.addEventListener('mousemove', this.handleTouchMove, { passive: false });\n\t\t\tthis.eventTarget.addEventListener('mouseup', this.handleTouchEnd, { passive: false });\n\t\t}\n\t}\n\n\t/**\n\t * Method called when the instance is destroyed.\n\t */\n\tpublic onDestroy(): void {\n\t\tthis.cancelTouch(false);\n\n\t\tif (this.eventTarget) {\n\t\t\t// cancel touch events\n\t\t\tthis.eventTarget.removeEventListener('touchstart', this.handleTouchStart);\n\t\t\tthis.eventTarget.removeEventListener('touchmove', this.handleTouchMove);\n\t\t\tthis.eventTarget.removeEventListener('touchend', this.handleTouchEnd);\n\n\t\t\t// cancel mouse events\n\t\t\tthis.eventTarget.removeEventListener('mousedown', this.handleTouchStart);\n\t\t\tthis.eventTarget.removeEventListener('mousemove', this.handleTouchMove);\n\t\t\tthis.eventTarget.removeEventListener('mouseup', this.handleTouchEnd);\n\n\t\t\t// nullify the event target because we don't need it anymore\n\t\t\tthis.eventTarget = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Callback that is passed to touchmove events, so that touch can be cancelled on the other side.\n\t * @param emit Tells the method it should fire an event or not. Default is `true`.\n\t */\n\tprivate cancelTouch = (emit?: boolean) => {\n\t\tif (this.options.classAlias) {\n\t\t\tthis.instance.toggleClass(this.options.classAlias, false);\n\t\t}\n\t\tif (emit !== false) {\n\t\t\tthis.instance.emit('touchswipe:cancel', this.touchLast);\n\t\t}\n\t\tthis.touchStart = undefined;\n\t\tthis.touchLast = undefined;\n\t}\n\n\t/**\n\t * Handles touchStart or mouseDown events.\n\t * @param event The event to extract the coordinates from.\n\t */\n\tprivate handleTouchStart = (event: MouseEvent | TouchEvent) => {\n\t\tconst coords = Point.getFromEvent(event);\n\t\tconst target = this.eventTarget !== document\n\t\t\t? this.eventTarget as HTMLElement\n\t\t\t: this.instance.element;\n\t\tif (!this.touchStart && inElementBounds(target, coords)) {\n\t\t\tthis.touchStart = coords;\n\t\t\tthis.touchLast = coords;\n\t\t\tif (this.options.preventDefault && event.cancelable) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tif (this.options.classAlias) {\n\t\t\t\tthis.instance.toggleClass(this.options.classAlias, true);\n\t\t\t}\n\t\t\tthis.instance.emit('touchswipe:start', coords);\n\t\t}\n\t}\n\n\t/**\n\t * Handles touchMove or mouseMove events.\n\t * @param event The event to extract the coordinates from.\n\t */\n\tprivate handleTouchMove = (event: MouseEvent | TouchEvent) => {\n\t\tif (!this.touchStart) { return; }\n\t\tthis.touchLast = Point.getFromEvent(event);\n\t\tthis.touchDelta = this.touchStart.clone().sub(this.touchLast);\n\t\tthis.instance.emit('touchswipe:move', this.touchDelta, this.cancelTouch);\n\n\t\tconst xAbs = Math.abs(this.touchDelta.x);\n\t\tconst yAbs = Math.abs(this.touchDelta.y);\n\t\tlet delta = 0;\n\n\t\tif (xAbs > yAbs && !this.options.vertical) {\n\t\t\t// swiped horizontally\n\t\t\tdelta = this.touchDelta.x;\n\t\t}\n\t\telse if (xAbs < yAbs && this.options.vertical) {\n\t\t\t// swiped vertically\n\t\t\tdelta = this.touchDelta.y;\n\t\t}\n\n\t\tif (delta > this.options.tolerance) {\n\t\t\tthis.instance.emit('touchswipe:next', this.touchDelta);\n\t\t\tthis.instance.inc(+1);\n\t\t\tthis.cancelTouch(false);\n\t\t}\n\t\telse if (delta < -this.options.tolerance) {\n\t\t\tthis.instance.emit('touchswipe:prev', this.touchDelta);\n\t\t\tthis.instance.inc(-1);\n\t\t\tthis.cancelTouch(false);\n\t\t}\n\t}\n\n\t/**\n\t * Handles touchEnd or mouseUp events.\n\t * @param event The event to extract the coordinates from.\n\t */\n\tprivate handleTouchEnd = (event: MouseEvent | TouchEvent) => {\n\t\tif (!this.touchStart) { return; }\n\t\tthis.instance.emit('touchswipe:end', this.touchLast);\n\t\tthis.cancelTouch(false);\n\t}\n\n}\n","// based off of component-emitter package\n// https://github.com/component/emitter\n\nexport type EmitterCallback = (...args: any[]) => void;\n\nexport default abstract class Emitter {\n\n\t/**\n\t * List of callbacks maintained by the class.\n\t */\n\tprivate callbacks: { [id: string]: EmitterCallback[] } = {};\n\n\t/**\n\t * Listens on the given `event` with `callback`.\n\t * @param event The event to add the listener to.\n\t * @param callback Listener to invoke.\n\t */\n\tpublic on(event: string, callback: EmitterCallback): Emitter {\n\t\tif (typeof callback !== 'function') { return this; }\n\t\tconst key = '$' + event;\n\t\t(this.callbacks[key] = this.callbacks[key] || []).push(callback);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds an `event` listener that will be invoked a single time then automatically removed.\n\t * @param event The event to add the listener to.\n\t * @param callback Listener to invoke.\n\t */\n\tpublic once(event: string, callback: EmitterCallback): Emitter {\n\t\tif (typeof callback !== 'function') { return this; }\n\t\tfunction on() {\n\t\t\tthis.off(event, on);\n\t\t\tcallback.apply(this, arguments);\n\t\t}\n\t\t(on as any).callback = callback;\n\t\tthis.on(event, on);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes the given callback for `event` or all registered callbacks.\n\t * @param event The event to remove the listener(s) from.\n\t * @param callback Specific listener to remove.\n\t */\n\tpublic off(event?: string, callback?: EmitterCallback): Emitter {\n\t\t// remove all events\n\t\tif (arguments.length === 0) {\n\t\t\tthis.callbacks = {};\n\t\t\treturn this;\n\t\t}\n\n\t\t// remove specific event\n\t\tconst key = '$' + event;\n\t\tconst callbacks = this.callbacks[key];\n\t\tif (!callbacks) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// remove all handlers\n\t\tif (arguments.length === 1) {\n\t\t\tdelete this.callbacks[key];\n\t\t\treturn this;\n\t\t}\n\n\t\t// remove specific handler\n\t\tconst index = callbacks.indexOf(callback);\n\t\tif (index !== -1 && callbacks[index] === callback) {\n\t\t\tcallbacks.splice(index, 1);\n\t\t}\n\n\t\t// remove event-specific arrays without callbacks\n\t\t// to avoid memory leaks\n\t\tif (callbacks.length === 0) {\n\t\t\tdelete this.callbacks[key];\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Emits `event` with the given `args`.\n\t * @param event The event to trigger.\n\t * @param args Arguments to pass to each callback.\n\t */\n\tpublic emit(event: string, ...args: any[]): Emitter {\n\t\tlet callbacks = this.callbacks['$' + event];\n\t\tif (callbacks && callbacks.length > 0) {\n\t\t\tcallbacks = callbacks.slice(0);\n\t\t\tfor (const c of callbacks) {\n\t\t\t\tc.apply(this, args);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Returns an array of callbacks for `event`.\n\t * @param event The event to get the listeners from.\n\t */\n\tpublic listeners(event: string): EmitterCallback[] {\n\t\treturn this.callbacks['$' + event] || [];\n\t}\n\n\t/**\n\t * Checks if this emitter has `event` handlers.\n\t * @param event The event to verify.\n\t */\n\tpublic hasListeners(event: string): boolean {\n\t\treturn !!this.listeners(event).length;\n\t}\n\n}\n","import AutoplayPlugin from '../plugins/autoplay';\nimport TouchSwipePlugin from '../plugins/touchswipe';\nimport Emitter from '../utils/emitter';\nimport { addClassToElement, findChildrenInElement, removeClassFromElement, setElementStyle, toggleClassInElement } from '../utils/html';\nimport { clamp, wrap } from '../utils/math';\nimport { merge } from '../utils/objects';\nimport IViewMatrixClassAliases from './iviewmatrixclassaliases';\nimport IViewMatrixOptions from './iviewmatrixoptions';\nimport ViewMatrixPlugin from './viewmatrixplugin';\n\nexport interface IPluginDictionary {\n\t[id: string]: typeof ViewMatrixPlugin;\n}\n\nexport type PluginConstructor = (p: IPluginDictionary) => ViewMatrixPlugin[];\n\nexport default class ViewMatrix extends Emitter {\n\n\t/**\n\t * The instance's target element.\n\t */\n\tpublic element: HTMLElement;\n\n\t/**\n\t * The instance's options.\n\t */\n\tpublic readonly options: IViewMatrixOptions;\n\n\t/**\n\t * The ViewMatrix instance's children.\n\t */\n\tprivate children: HTMLElement[] = null;\n\n\t/**\n\t * List of ViewMatrixPlugin instances associated with the instance.\n\t */\n\tprivate plugins: ViewMatrixPlugin[] = [];\n\n\t/**\n\t * The class' instance defaults.\n\t */\n\tprivate readonly defaults: IViewMatrixOptions = {\n\t\t// state init\n\t\tstartingIndex: 0,\n\t\t// selectors\n\t\tchildrenSelector: '*',\n\t\t// classes\n\t\tclassAliases: {\n\t\t\telement: 'element',\n\t\t\tinfinite: 'infinite',\n\t\t\tchild: 'child',\n\t\t\tcurrent: 'current',\n\t\t\tbehind: 'behind',\n\t\t\tahead: 'ahead',\n\t\t\tbeyond: 'beyond'\n\t\t},\n\t\tclassPrefix: 'vm-',\n\t\t// function\n\t\tadjacentCount: 1,\n\t\thandleZIndex: true,\n\t\tinfinite: false,\n\t\twrap: true\n\t};\n\n\t/**\n\t * List of class names frequently used for children elements.\n\t */\n\tprivate classAliases: { [id: string]: string } = {};\n\n\t/**\n\t * Current slide's index.\n\t */\n\tprivate currentIndex: number = 0;\n\n\t/**\n\t * Creates a new ViewMatrix instance.\n\t * @param selector The target selector or element for the instance.\n\t * @param options Options for the instance.\n\t */\n\tconstructor(\n\t\tparentSelector: string | HTMLElement,\n\t\toptions?: IViewMatrixOptions,\n\t\tplugins?: ViewMatrixPlugin[] | PluginConstructor\n\t) {\n\t\tsuper();\n\n\t\t// get options\n\t\tthis.options = merge({}, this.defaults, options);\n\n\t\t// load plugins\n\t\tif (plugins) {\n\t\t\tif (plugins instanceof Array) {\n\t\t\t\tthis.plugins = Array.prototype.slice.call(plugins, 1);\n\t\t\t}\n\t\t\telse if (typeof plugins === 'function') {\n\t\t\t\tthis.plugins = plugins({\n\t\t\t\t\tAutoplayPlugin,\n\t\t\t\t\tTouchSwipePlugin\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// initialize\n\t\tthis.initialize(parentSelector, this.options.childrenSelector);\n\t}\n\n\t/**\n\t * Refreshes the instance.\n\t * @param parentSelector The query selector to find the element.\n\t * @param childrenSelector An optional query selector to filter children.\n\t */\n\tpublic initialize(parentSelector: string | HTMLElement, childrenSelector?: string): void {\n\t\t// destroy first\n\t\tthis.destroy();\n\n\t\t// get a valid selector\n\t\tparentSelector = parentSelector != null ? parentSelector : null;\n\n\t\t// check if we have an object,\n\t\t// if we do, POPULATE ALL THE VARS\n\t\tif (typeof parentSelector === 'string') {\n\t\t\tthis.element = document.querySelector(parentSelector) || null;\n\t\t}\n\t\telse if (parentSelector instanceof HTMLElement) {\n\t\t\tthis.element = parentSelector;\n\t\t}\n\n\t\t// do we still have a target?\n\t\t// if not, throw a hissy fit\n\t\tif (!this.element) {\n\t\t\tthrow new Error('No valid selector provided to ViewMatrix instance');\n\t\t}\n\n\t\t// (also update the selectors in the options to these)\n\t\tif (typeof childrenSelector === 'string') { this.options.childrenSelector = childrenSelector; }\n\n\t\t// set children and index\n\t\tthis.children = findChildrenInElement(this.element, childrenSelector);\n\t\tthis.currentIndex = this.wrapIndex(this.currentIndex);\n\n\t\t// add classes to new children\n\t\tthis.prepareClassNames(this.options.classPrefix, this.options.classAliases);\n\t\tfor (const child of this.children) {\n\t\t\taddClassToElement(child, this.classAliases.child);\n\t\t}\n\n\t\t// add classes to the element\n\t\taddClassToElement(this.element, this.classAliases.element);\n\t\ttoggleClassInElement(this.element, this.classAliases.infinite, this.options.infinite);\n\n\t\t// initialize plugins\n\t\tthis.initializePlugins();\n\n\t\t// refresh slides\n\t\tthis.slide(this.currentIndex);\n\n\t\t// trigger event\n\t\tthis.emit('init', this.element, this.children);\n\t}\n\n\t/**\n\t * Destroys the ViewMatrix instance.\n\t */\n\tpublic destroy(): void {\n\t\t// reset all plugins\n\t\tthis.destroyPlugins();\n\n\t\t// reset current element\n\t\tif (this.element) {\n\t\t\tremoveClassFromElement(this.element, [\n\t\t\t\tthis.classAliases.element,\n\t\t\t\tthis.classAliases.infinite\n\t\t\t]);\n\t\t}\n\n\t\t// reset current children\n\t\tif (this.children && this.children.length > 0) {\n\t\t\tfor (const child of this.children) {\n\t\t\t\tremoveClassFromElement(child, [\n\t\t\t\t\tthis.classAliases.child,\n\t\t\t\t\tthis.classAliases.current,\n\t\t\t\t\tthis.classAliases.beyond,\n\t\t\t\t\tthis.classAliases.behind,\n\t\t\t\t\tthis.classAliases.ahead\n\t\t\t\t] );\n\t\t\t\tsetElementStyle(child, 'z-index', null);\n\t\t\t}\n\t\t}\n\n\t\t// trigger event\n\t\tthis.emit('destroy', this.element, this.children);\n\n\t\t// reset vars\n\t\tthis.element = null;\n\t\tthis.children = null;\n\t}\n\n\t/**\n\t * Changes the ViewMatrix's current slide.\n\t * @param index Slide to change to.\n\t */\n\tpublic slide(index: number): HTMLElement {\n\t\tif (!this.children || this.children.length === 0) { return null; }\n\n\t\t// wrap index for safety\n\t\tindex = this.wrapIndex(index);\n\n\t\t// calc adjacent and distance values\n\t\tconst childrenCount = this.children.length;\n\t\tconst adjacentCount = Math.max(1, this.options.adjacentCount);\n\t\tconst distanceCount = Math.floor((childrenCount - 1) / 2);\n\t\tconst indexCount = distanceCount + (childrenCount % 2 === 0 ? 1 : 0);\n\n\t\t// trigger before event\n\t\tthis.emit('slide:before', this.currentIndex, index, childrenCount);\n\n\t\t// add or remove classes from children\n\t\tfor (let i = 0; i < childrenCount; i++) {\n\t\t\tconst child = this.children[i];\n\t\t\tlet distance = i - index;\n\n\t\t\tif (this.options.infinite) {\n\t\t\t\t// if we're looping around in an infinite gallery,\n\t\t\t\t// we loop the distance as well\n\t\t\t\tif (distance > distanceCount) {\n\t\t\t\t\tdistance -= childrenCount;\n\t\t\t\t}\n\t\t\t\telse if (distance < -distanceCount) {\n\t\t\t\t\tdistance += childrenCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (i === index) {\n\t\t\t\t// this is the new current element\n\t\t\t\t// remove all old classes and add the \"vm-current\" one\n\t\t\t\tremoveClassFromElement(child, [\n\t\t\t\t\tthis.classAliases.ahead,\n\t\t\t\t\tthis.classAliases.behind,\n\t\t\t\t\tthis.classAliases.beyond\n\t\t\t\t]);\n\t\t\t\taddClassToElement(child, this.classAliases.current);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// this is not a current element,\n\t\t\t\t// figure out if it's before or after\n\t\t\t\tconst isAhead = distance > 0;\n\t\t\t\tconst isBehind = distance < 0;\n\n\t\t\t\t// check if it's beyond the adjacent scope\n\t\t\t\tconst isBeyond = Math.abs(distance) > adjacentCount;\n\n\t\t\t\t// remove \"current\" and toggle other classes\n\t\t\t\tremoveClassFromElement(child, this.classAliases.current);\n\t\t\t\ttoggleClassInElement(child, this.classAliases.beyond, isBeyond);\n\t\t\t\ttoggleClassInElement(child, this.classAliases.behind, isBehind);\n\t\t\t\ttoggleClassInElement(child, this.classAliases.ahead, isAhead);\n\t\t\t}\n\n\t\t\t// if we're handling z-index, fix it\n\t\t\tif (this.options.handleZIndex) {\n\t\t\t\tsetElementStyle(child, 'z-index', indexCount - Math.abs(distance));\n\t\t\t}\n\t\t}\n\n\t\t// trigger event\n\t\tthis.emit('slide:after', this.currentIndex, index, childrenCount);\n\n\t\t// set new index\n\t\tthis.currentIndex = index;\n\n\t\t// return child element\n\t\treturn this.children[index];\n\t}\n\n\t/**\n\t * Increments the ViewMatrix's current slide.\n\t * @param inc Value to add to the current index.\n\t */\n\tpublic inc(increment: number): HTMLElement {\n\t\treturn this.slide(this.currentIndex + increment);\n\t}\n\n\t/**\n\t * Toggles a class in the instance's element.\n\t * @param name The class to toggle.\n\t * @param condition Condition to determine if class is added or removed.\n\t */\n\tpublic toggleClass(name: string, condition: boolean): void {\n\t\tif (this.element) {\n\t\t\ttoggleClassInElement(this.element, this.options.classPrefix + name, condition);\n\t\t}\n\t}\n\n\t/**\n\t * Caches all class names for future use.\n\t * @param prefix Prefix for all class aliases.\n\t * @param aliases String dictionary of class aliases.\n\t */\n\tprivate prepareClassNames(prefix: string = this.options.classPrefix, aliases: IViewMatrixClassAliases = this.options.classAliases): void {\n\t\tfor (const k in aliases) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(aliases, k)) {\n\t\t\t\tthis.classAliases[k] = prefix + aliases[k];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Wraps a given \"index\" to be safe for the instance to use.\n\t * @param index Index to wrap.\n\t */\n\tprivate wrapIndex(index: number): number {\n\t\tconst max = this.children.length - 1;\n\t\treturn this.options.wrap\n\t\t\t? wrap(index, 0, max)\n\t\t\t: clamp(index, 0, max);\n\t}\n\n\t/**\n\t * Invokes the `onInit` method on all registered plugins.\n\t */\n\tprivate initializePlugins(): void {\n\t\tfor (const p of this.plugins) {\n\t\t\tif (p) {\n\t\t\t\tp.instance = this;\n\t\t\t\tif (typeof p.onInit === 'function') {\n\t\t\t\t\tp.onInit();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Invokes the `onDestroy` method on all registered plugins.\n\t */\n\tprivate destroyPlugins(): void {\n\t\tfor (const p of this.plugins) {\n\t\t\tif (p && p.instance) {\n\t\t\t\tif (typeof p.onDestroy === 'function') {\n\t\t\t\t\tp.onDestroy();\n\t\t\t\t}\n\t\t\t\tp.instance = null;\n\t\t\t}\n\t\t}\n\t}\n\n}\n","/**\n * Clamps a given \"value\" between \"min\" and \"max\", so it never overflows.\n * @param value - The value to clamp.\n * @param min - Minimum value, inclusive.\n * @param max - Maximum value, inclusive.\n */\nexport function clamp(value: number, min: number, max: number): number {\n\treturn Math.max(min, Math.min(max, value));\n}\n\n/**\n * Wraps a given \"value\" between \"min\" and \"max\", so it never overflows.\n * @param value The value to wrap.\n * @param min Minimum value, inclusive.\n * @param max Maximum value, inclusive.\n */\nexport function wrap(value: number = 0, min: number = 0, max: number = 0): number {\n\t// make sure we're using the right max\n\tmax = Math.max(min, max);\n\n\t// make math\n\tconst x = value - min;\n\tconst m = (max + 1) - min;\n\treturn min + (x % m + m) % m;\n}\n","import ViewMatrix from './src/core/viewmatrix';\nimport AutoplayPlugin from './src/plugins/autoplay';\nimport TouchSwipePlugin from './src/plugins/touchswipe';\nimport Emitter from './src/utils/emitter';\n\nexport {\n\tViewMatrix,\n\tAutoplayPlugin,\n\tTouchSwipePlugin,\n\tEmitter\n};\n\n(window as any).ViewMatrix = ViewMatrix;\n"],"sourceRoot":""}